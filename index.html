<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Peak Education</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --glass:rgba(255,255,255,.15);
  --text:#fff;
}
body{
  margin:0;
  min-height:100vh;
  font-family:Arial,sans-serif;
  color:var(--text);
  background:linear-gradient(270deg,#0f2027,#203a43,#2c5364,#1e3c72);
  background-size:800% 800%;
  animation:bg 18s ease infinite;
  overflow-x:hidden;
}
@keyframes bg{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

.container{
  max-width:760px;
  margin:40px auto;
  padding:28px;
  background:var(--glass);
  backdrop-filter:blur(18px);
  border-radius:20px;
  box-shadow:0 25px 60px rgba(0,0,0,.45);
}
.hidden{display:none}
h1,h2,h3{text-align:center}

.topics{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
  gap:14px;
  margin:25px 0;
}
.topic{
  padding:14px;
  border-radius:14px;
  background:rgba(255,255,255,.2);
  text-align:center;
  font-weight:bold;
}

input,button{
  width:100%;
  padding:14px;
  margin-top:12px;
  font-size:16px;
  border-radius:12px;
  border:none;
}
input{color:#000}
button{
  background:linear-gradient(135deg,#00c6ff,#0072ff);
  color:#fff;
  font-weight:bold;
  cursor:pointer;
}
.quick-links a{
  display:block;
  padding:14px;
  margin-top:10px;
  background:rgba(255,255,255,.2);
  border-radius:12px;
  text-decoration:none;
  color:inherit;
}
.note{
  font-size:12px;
  opacity:.75;
  text-align:center;
}

/* iframe (APP ONLY) */
iframe{
  width:100%;
  height:70vh;
  border:none;
  border-radius:14px;
  margin-top:15px;
}

/* floating symbols */
.symbol{
  position:fixed;
  bottom:-40px;
  font-size:24px;
  opacity:.25;
  animation:floatUp linear infinite;
  pointer-events:none;
}
@keyframes floatUp{
  from{transform:translateY(0)}
  to{transform:translateY(-120vh)}
}
</style>
</head>

<body>

<div class="container">

<!-- HOME -->
<div id="home">
  <h1>Peak Education</h1>
  <p id="fact"></p>

  <button id="installBtn">Install App</button>
  <p class="note">Install Peak for offline access</p>

  <input id="emailInput" placeholder="Enter your email">
  <button onclick="enterSite()">Continue</button>

  <div class="topics">
    <div class="topic">Mathematics</div>
    <div class="topic">Computer Science</div>
    <div class="topic">Science</div>
    <div class="topic">Physics</div>
    <div class="topic">Biology</div>
    <div class="topic">Engineering</div>
  </div>
</div>

<!-- TOOLS -->
<div id="tool" class="hidden">
  <h2>Educational Tools</h2>

  <!-- WEBSITE MODE -->
  <div id="webMode">
    <input id="urlInput" placeholder="Enter website URL">
    <button onclick="openNewTab()">Open in New Tab</button>
    <button onclick="copyFormula()">Copy Math Formula</button>

    <div class="quick-links">
      <h3>Quick Links</h3>
      <a onclick="openNewTab('https://login.live.com/')">Microsoft Login</a>
      <a onclick="openNewTab('https://www.xbox.com/')">Math Battle Pass</a>
      <a onclick="openNewTab('https://now.gg/')">Learning Simulator</a>

      <a onclick="copyText('chrome://settings/clearBrowserData')">
        Copy Chrome – Clear Browsing Data
      </a>
      <a onclick="copyText('chrome://serviceworker-internals/')">
        Copy Chrome – Service Worker Internals
      </a>
    </div>
  </div>

  <!-- APP MODE -->
  <div id="appMode" class="hidden">
    <p class="note">App Browser</p>
    <iframe id="appFrame"></iframe>
    <p class="note" id="frameMsg">
      Some websites may not work inside the app.
    </p>
  </div>
</div>

</div>

<script>
/* fun fact */
const facts=[
  "π is irrational",
  "0.999… equals 1",
  "There are more trees on Earth than stars in the Milky Way",
  "A day on Venus is longer than a year"
];
fact.textContent="Did you know? "+facts[Math.floor(Math.random()*facts.length)];

/* INSTALL */
let deferredPrompt=null;
window.addEventListener("beforeinstallprompt",e=>{
  e.preventDefault();
  deferredPrompt=e;
});
installBtn.onclick=()=>{
  if(deferredPrompt) deferredPrompt.prompt();
  else alert("Install not supported on this browser");
};

/* EMAIL GATE */
function enterSite(){
  const e=emailInput.value.trim();
  if(!e) return;

  home.classList.add("hidden");
  tool.classList.remove("hidden");

  if(window.matchMedia('(display-mode: standalone)').matches){
    webMode.classList.add("hidden");
    appMode.classList.remove("hidden");
  }
}

/* WEBSITE MODE */
function openNewTab(url){
  let u=url||urlInput.value.trim();
  if(!u) return;
  if(!u.startsWith("http")) u="https://"+u;
  const x=new URL(u);
  x.searchParams.set("scrlcbp",".");
  window.open(x.toString(),"_blank");
}

/* COPY */
function copyFormula(){
  navigator.clipboard.writeText("?scrlcbp=.");
}
function copyText(t){
  navigator.clipboard.writeText(t);
}

/* FLOATING SYMBOLS */
const syms=["π","Σ","∞","√","∫"];
for(let i=0;i<30;i++){
  const s=document.createElement("div");
  s.className="symbol";
  s.textContent=syms[Math.floor(Math.random()*syms.length)];
  s.style.left=Math.random()*100+"vw";
  s.style.animationDuration=15+Math.random()*20+"s";
  document.body.appendChild(s);
}
</script>

</body>
</html>
